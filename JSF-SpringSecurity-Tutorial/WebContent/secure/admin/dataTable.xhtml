<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
>
	<h:head>
		<link
			href="${facesContext.externalContext.requestContextPath}/css/style.css" rel='stylesheet' type='text/css' />
	</h:head>
	<h:body>
	<h:form>
 		<p:dataTable id="stdDisobedientTbl" var="stdDisobedient" value="#{dataTableExampleBean.existingStdDisobedientDtoList}" rowIndexVar="rowIndex" >
			<p:column headerText="STUDENT ROLL NO" 
								rendered="#{dataTableExampleBean.displayRow(rowIndex, stdDisobedient.studentRollNo)}"
								rowspan="#{dataTableExampleBean.rowSpanSize}">		
				<h:outputText value="#{stdDisobedient.studentRollNo}"  rendered="#{dataTableExampleBean.showFlg}" />		
			</p:column>
 			<p:column headerText="COUNT"
 								rendered="#{dataTableExampleBean.showFlg}"
 								rowspan="#{dataTableExampleBean.rowSpanSize}">
				<h:outputText value="#{dataTableExampleBean.rowSpanSize}" rendered="#{dataTableExampleBean.showFlg}" />		
			</p:column>
	    <p:column>
 				<h:outputText value="#{stdDisobedient.commitedDate}" />		 
	    </p:column>
	    <p:column>
 				<p:commandButton value="Delete"
						update="stdDisobedientTbl"
						actionListener="#{dataTableExampleBean.doDelete}"
						immediate="true" process="@this"> 
				</p:commandButton> 
	    </p:column>
		</p:dataTable>
		
		<p:commandButton id="addStudent" value="Add Student"
			actionListener="#{dataTableExampleBean.viewUserPopup}"
			immediate="true">
			<p:ajax event="dialogReturn"
				listener="#{dataTableExampleBean.onStudentSelect}"
				update="newStdDisobedientTbl" />
		</p:commandButton>

		<p:dataTable id="newStdDisobedientTbl" var="newStdDisobedient" value="#{dataTableExampleBean.newStdDisobedientDtoList}" rowIndexVar="rowIndex" >
			<p:column>
				<h:outputText value="#{rowIndex}" />
			</p:column>
	    <p:column>
 				<h:outputText value="#{newStdDisobedient.firstName}" />		 
	    </p:column>
		</p:dataTable>
				
	</h:form>
	</h:body>
</ui:composition>